# ğŸ›« Done ğŸ¥³

#### :one:. ~~íšŒì›ê°€ì… í˜ì´ì§€~~

#### :two:. ~~ë¡œê·¸ì¸ í˜ì´ì§€~~

#### :three:. ~~íšŒì›ì •ë³´ ìˆ˜ì • í˜ì´ì§€~~ --> ë‹‰ë„¤ì„ ë³€ê²½ì„ ì¼ì •ê¸°ê°„ ë§ˆë‹¤ ê°€ëŠ¥í•˜ê²Œ êµ¬ì„±, ì‚¬ìš©ìì™€ ìˆ˜ì •í•˜ê³ ì í•˜ëŠ” ë‹‰ë„¤ì„ ë¶ˆì¼ì¹˜ ì‹œ 404í˜ì´ì§€ë¡œ ë³´ë‚´ë„ë¡ êµ¬ì„±

#### :four:. ~~ë¹„ë°€ë²ˆí˜¸ ìˆ˜ì • í˜ì´ì§€~~  --> ì „ì— ë°”ê¿¨ë˜ ë¹„ë°€ë²ˆí˜¸ë¡œ ë³€ê²½í•  ê²½ìš° ë™ì‘

#### :five:. index í˜ì´ì§€

#### :six:. detail í˜ì´ì§€

#### :seven:. ì¢‹ì•„ìš” ëŒ“ê¸€ ê¸°ëŠ¥ ì¶”ê°€

<br>

<br>

<br>

# :one: íšŒì›ê°€ì… í˜ì´ì§€

<br>

#### â€¢ ìˆ˜ì • ë° êµ¬í˜„ì‚¬í•­ ê³„íš

1. ##### íšŒì›ê°€ì… ì‹œ ë°”ë¡œ ë¡œê·¸ì¸

2. ##### ë‹‰ë„¤ì„ ì¶”ê°€

>ë‚˜ì¤‘ì— ë„¤ì´ë²„ë¡œ ë¡œê·¸ì¸, êµ¬ê¸€ ë¡œê·¸ì¸ í™œìš© ì‹œì— ì´ ì‚¬ìš©ìë“¤ì˜ IDëŠ” ì´ë©”ì¼ ì£¼ì†Œê°€ ë  ê²ƒìœ¼ë¡œ ì˜ˆìƒ
>
>ê·¸ëŸ¬ë©´ ëŒ“ê¸€ì´ë‚˜ ê²Œì‹œê¸€ ì‘ì„± ì‹œì— ì‘ì„±ì ì´ë¦„ì— ì´ë©”ì¼ ì£¼ì†Œê°€ ë“¤ì–´ì˜¤ê²Œ ëœë‹¤.
>
>ì‘ì„±ìëª…ì— ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì‚¬ìš© ì‹œì— ê¸¸ì´ê°€ ê¸´ ë¬¸ì œì™€ ëœ ì¹œê·¼í•´..ë³´ì´ëŠ”? ë¬¸ì œê°€ ì˜ˆìƒëœë‹¤ ã…‹ã…‹ã…‹

<br>

#### â€¢ ì‹¤ì œ ìˆ˜ì • ë° êµ¬í˜„ì‚¬í•­

1. ##### íšŒì›ê°€ì… ì‹œ ë°”ë¡œ ë¡œê·¸ì¸

2. ##### ë‹‰ë„¤ì„ Column ì¶”ê°€, unique ê°’ìœ¼ë¡œ ì§€ì •, labelì„ í™œìš©í•˜ì—¬ ì‹¤ì œ í˜ì´ì§€ì—ì„œ ì§€ì •í•œ ê°’ìœ¼ë¡œ ì‹œê°í™”

3. ##### Email Column ì¶”ê°€ ë° unique ê°’ìœ¼ë¡œ ì§€ì •

<br>

- ###### íšŒì›ê°€ì… ì‹œ ë°”ë¡œ ë¡œê·¸ì¸ views.py

```python
from django.contrib.auth import login as auth_login

def signup(request):
    if request.method == 'POST':
        form = CustomUserCreationForm(request.POST)
        if form.is_valid():
            user = form.save()
            auth_login(request, user)
            return redirect('contents:index')
    else:
        form = CustomUserCreationForm()
    context = {
        'form' : form,
    }
    return render(request, 'accounts/signup.html', context)
```

<br>

- ë‹‰ë„¤ì„ ë° Email ìˆ˜ì •ì‚¬í•­

```python
# models.py
class User(AbstractUser):
    gender = models.BooleanField()
    nickname = models.CharField(max_length=20, unique=True)
    email = models.EmailField(unique=True)
```

>unique=Trueë¥¼ í•´ì¤˜ì„œ nickname columnì•ˆì˜ ê°’ì„ ìœ ì¼í•˜ê²Œ ë§Œë“¤ì–´ì£¼ì—ˆë‹¤.
>
>ì‚¬ìš©ìë“¤ë¼ë¦¬ nicknameì´ ê°™ë‹¤ë©´ êµ¬ë¶„í•˜ê¸°ê°€ ì–´ë µê¸° ë•Œë¬¸ì´ë‹¤.
>
>Idë¡œ ì‚¬ìš©í•  ìˆ˜ë„ ìˆì§€ë§Œ ì´ë©”ì¼ë¡œ ê°€ì…í•˜ëŠ” ì‚¬ìš©ìë“¤ì€ IDì— email ê°’ì´ í• ë‹¹ë˜ê¸° ë•Œë¬¸ì—
>
>ë„ˆë¬´ ê¸¸ì–´ ë³´ì´ê±°ë‚˜ ì‹ë³„ì´ ì–´ë ¤ìš¸ ìˆ˜ ìˆëŠ” ë¬¸ì œê°€ ìƒê¸¸ ì—¬ì§€ê°€ ìˆë‹¤.

<br>

```python
# forms.py
    nickname = forms.CharField(label='ë‹‰ë„¤ì„')
    class Meta(UserCreationForm.Meta):
        model = get_user_model()
        fields = UserCreationForm.Meta.fields + ('gender', 'email', 'nickname',)
```

>nicknameì˜ ê°’ì„ ë°›ëŠ” ì¤„ì— ë‹‰ë„¤ì„ì´ë¼ëŠ” labelì„ ë‹¬ì•„ì£¼ê¸° ìœ„í•´ì„œ labelì„ í™œìš©í–ˆë‹¤.
>
>fieldsì— + í•˜ëŠ” ê°’ì˜ ìˆœì„œë¥¼ ë³€ê²½í•˜ì—¬ ì‹¤ì œ í™”ë©´ì—ì„œ ìˆœì„œë¡œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.

<br>

<br>

## ìˆ˜ì • ì „

![abc](./markdown_img/0412_ToDo.assets/abc.PNG)

<br>

## ìˆ˜ì • í›„

![signup](./markdown_img/0412_Done.assets/signup.PNG)

<br>

<br>

<br>

# :two:. ë¡œê·¸ì¸ í˜ì´ì§€

<br>

#### â€¢ ìˆ˜ì • ë° êµ¬í˜„ì‚¬í•­ ê³„íš

1. ##### Django ë¡œê·¸ì¸ Formì„ í™œìš©í•˜ì—¬ êµ¬í˜„

   >êµ¬ê¸€, ë„¤ì´ë²„, í˜ë¶ ë“±ìœ¼ë¡œ ë¡œê·¸ì¸ì€ ë‚˜ì¤‘ì— êµ¬í˜„í•˜ê³  ë¨¼ì € ë¡œê·¸ì¸ ê¸°ëŠ¥ì´ ì˜ ëŒì•„ê°€ë„ë¡ í•´ë³´ì

2. ##### ë¡œê·¸ì¸ í›„ì—ëŠ” index í˜ì´ì§€ë¡œ ì´ë™

   > íŠ¹ì • í˜ì´ì§€ë¡œ ë“¤ì–´ê°€ì„œ @login_requiredì— ì˜í•´ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë„˜ì–´ê°ˆ ê²½ìš°
   >
   > ë¡œê·¸ì¸ í›„ì— ê·¸ í˜ì´ì§€ë¡œ ë„˜ê²¨ì¤„ìˆ˜ë„ ìˆë‹¤.
   >
   > ë©”ì¸í˜ì´ì§€ì—ì„œ ë¡œê·¸ì¸ì„ ë¨¼ì € ë°›ì•„ë†“ìœ¼ë©´ ì´ëŸ° ê¸°ëŠ¥ì„ ë„£ì„ í•„ìš”ê°€ ì—†ì–´ì§„ë‹¤.
   >
   > ê·¸ë ‡ë‹¤ë©´.. ì„ íƒì€?

<br>

#### â€¢ ì‹¤ì œ ìˆ˜ì • ë° êµ¬í˜„ì‚¬í•­

1. Django ë¡œê·¸ì¸ Formì„ í™œìš©í•˜ì—¬ êµ¬í˜„ ë° ë¡œê·¸ì¸ ì„±ê³µ í›„ index í˜ì´ì§€ë¡œ ì´ë™

   ```python
   # views.py
   from django.contrib.auth import login as auth_login
   
   def login(request):
       if request.user.is_authenticated:
           return redirect('contents:index')
       if request.method == 'POST':
           form = AuthenticationForm(request, request.POST)
           if form.is_valid():
               auth_login(request, form.get_user())
               return redirect('contents:index')
       else:
           form = AuthenticationForm()
       context = {
           'form' : form,
       }
       return render(request, 'accounts/login.html', context)
   ```

   >ë¡œê·¸ì¸ì„ í•œ ì‚¬ìš©ìì¸ ê²½ìš° index í˜ì´ì§€ë¡œ ë³´ë‚´ì¤˜ì„œ ì ‘ê·¼ì„ ë§‰ëŠ”ë‹¤
   >
   >ë¡œê·¸ì¸ ì™„ë£Œ í›„ index í˜ì´ì§€ë¡œ ë³´ë‚´ì¤€ë‹¤.

   <br>

<br>

<br>

# :three:. íšŒì›ì •ë³´ ìˆ˜ì • í˜ì´ì§€

<br>

#### â€¢ ìˆ˜ì • ë° êµ¬í˜„ì‚¬í•­ ê³„íš

1. ##### Djangoì˜ UserChangeFormì„ í™œìš©í•˜ì—¬ êµ¬í˜„

   >ModelFormìœ¼ë¡œ Customí•´ì„œ ì‚¬ìš©
   >
   >ìŒ.. ì‚¬ìš©ìê°€ ì•…ì˜ì ìœ¼ë¡œ ë‹‰ë„¤ì„ì„ ê³„ì† ë°”ê¿”ì„œ ì„œë²„ì— ë¬´ë¦¬ë¥¼ ì¤„ ìˆ˜ë„ ìˆìœ¼ë‹ˆê¹Œ
   >
   >15ì¼ì— í•œë²ˆì”© ë°”ê¿€ ìˆ˜ ìˆë„ë¡ ë‹‰ë„¤ì„ ë³€ê²½ì„ í™œì„±í™” ë¹„í™œì„±í™” í•  ìˆ˜ ìˆì„ê¹Œ?
   >
   >ì¼ë‹¨ ê¸°ëŠ¥ë¶€í„° í•˜ê³  ë‚˜ì¤‘ì— ìƒê°í•´ë³¼ê¹Œ?

<br>

#### â€¢ ì‹¤ì œ ìˆ˜ì • ë° êµ¬í˜„ì‚¬í•­

1. ##### Djangoì˜ UserChangeFormì„ í™œìš©í•˜ì—¬ êµ¬í˜„

   ```python
   def profile(request, nickname):
       user = get_user_model()
       if request.user == user.objects.get(nickname=nickname):
           if request.method == 'POST':
               form = CustomUserChangeForm(data=request.POST, instance=request.user)
               if form.is_valid():
                   user_info = form.save()
                   return redirect('accounts:profile', user_info.nickname)
           else:
               form = CustomUserChangeForm(instance=request.user)
           context = {
               'form' : form,
           }
           return render(request, 'accounts/profile.html', context)
   ```

   >ì •ë³´ ìˆ˜ì •ì„ í•˜ë ¤ëŠ” ì‚¬ìš©ìì™€ nicknameì„ í†µí•´ ë¶ˆëŸ¬ì˜¨ ì‚¬ìš©ìê°€ ê°™ìœ¼ë©´ ìˆ˜ì •ì´ ê°€ëŠ¥í•˜ë„ë¡ êµ¬ì„±í•´ì£¼ì—ˆë‹¤.
   >
   >ë‹¤ë¥¼ ê²½ìš°ì—ëŠ” 404 í˜ì´ì§€ë¡œ ë³´ë‚´ëŠ” ê²ƒë„ ì¶”ê°€í•´ë´ì•¼ê² ë‹¤.
   >
   >ìˆ˜ì • ì™„ë£Œ ì‹œì—ëŠ” profile í˜ì´ì§€ ì¦‰ ìˆ˜ì • í˜ì´ì§€ë¡œ ë‹¤ì‹œ ëŒì•„ê°€ê²Œ êµ¬ì„±í–ˆë‹¤.

<br>

<br>

<br>

# :four:. ë¹„ë°€ë²ˆí˜¸ ìˆ˜ì • í˜ì´ì§€

<br>

#### â€¢ ìˆ˜ì • ë° êµ¬í˜„ì‚¬í•­ ê³„íš

1. ##### Djangoì˜ PasswordChangeFormì„ í™œìš©í•˜ì—¬ êµ¬í˜„

   > ì „ì— ì‚¬ìš©í–ˆë˜ ë¹„ë°€ë²ˆí˜¸ë¡œ ë°”ê¾¸ë ¤ê³  í•  ê²½ìš° ë¶ˆê°€ëŠ¥í•˜ê²Œ êµ¬í˜„ í•´ë³¼ê¹Œ?
   >
   > ì´ë¯¸ Formì—ì„œ ì œê³µí•˜ê³  ìˆì„ê¹Œ?

   <br>

#### â€¢ ì‹¤ì œ ìˆ˜ì • ë° êµ¬í˜„ì‚¬í•­

1. ##### Djangoì˜ PasswordChangeFormì„ í™œìš©í•˜ì—¬ êµ¬í˜„

   ```python
   def password(request):
       if request.method == 'POST':
           form = PasswordChangeForm(request.user, request.POST)
           if form.is_valid():
               user_info = form.save()
               update_session_auth_hash(request, form.user)
               return redirect('accounts:profile', user_info.nickname)
       else:
           form = PasswordChangeForm(request.user)
       context = {
           'form' : form,
       }
       return render(request, 'accounts/password.html', context)
   ```

   - ì˜¤ë¥˜

     ```python
     # urls.py
     
     from django.urls import path
     from . import views
     
     app_name = 'accounts'
     
     urlpatterns = [
         path('signup/', views.signup, name='signup'),
         path('login/', views.login, name='login'),
         path('logout/', views.logout, name='logout'),
         path('profile/password/', views.password, name='password'),
         path('profile/<nickname>/', views.profile, name='profile'),
     ]
     ```

     >profile/<nickname>/ì´ profile/password/ ë³´ë‹¤ ìœ„ì— ìˆì–´ì„œ passwordë¥¼ nicknameìœ¼ë¡œ ì¸ì‹í•˜ëŠ” ë¬¸ì œê°€ ë°œìƒí–ˆë‹¤.
     >
     >ê·¸ë˜ì„œ profile í•¨ìˆ˜ë¡œ ê°’ì´ ê³„ì† ë„˜ì–´ê°€ëŠ” ìƒí™©ì´ì—ˆë‹¤.
     >
     >ë‘˜ì˜ ìœ„ì¹˜ë¥¼ ë°”ê¿”ì¤˜ì„œ í•´ê²°í–ˆë‹¤.
     >
     >ì•ìœ¼ë¡œ í˜ì´ì§€ê°€ ì»¤ì§„ë‹¤ê³  í•˜ë©´ ì´ëŸ° ìƒí™©ì´ ë” ìì£¼ ë°œìƒí•  ê²ƒ ê°™ë‹¤.
     >
     >ì„¤ê³„ì˜ ì¤‘ìš”ì„±!